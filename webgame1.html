// --- ブロックのクラス ---
        class Block {
            constructor(x, y, color, health) { // colorは使わないが引数として残す
                this.x = x; 
                this.y = y; 
                this.width = BLOCK_WIDTH;
                this.height = BLOCK_HEIGHT; 
                // this.color = color; // この行はもう不要
                this.health = health;
                this.maxHealth = health;
            }
            draw() {
                // HPに基づく色の変化（削られていく表現）
                // 損傷度合い (0.0 = 満タン, 1.0 = 破壊寸前)
                const damageRatio = 1 - (this.health / this.maxHealth); 

                // HPに応じて色をグラデーションさせる
                // 例: 満タン時は緑系、減るにつれて黄、橙、赤へ変化
                let hue = (1 - damageRatio) * 120; // 120 (緑) から 0 (赤) へ
                let saturation = 100;
                let lightness = 50 - (damageRatio * 20); // HPが減ると少し暗くする (50%から30%へ)

                // HPが残り少ない場合はより強調する
                if (this.health <= 1) {
                    hue = 0; // 赤
                    saturation = 100;
                    lightness = 40;
                } else if (this.health <= 3) {
                    hue = 30; // 橙
                    saturation = 100;
                    lightness = 45;
                }
                
                ctx.fillStyle = `hsl(${hue}, ${saturation}%, ${lightness}%)`;
                
                ctx.fillRect(this.x, this.y, this.width, this.height);
                ctx.strokeStyle = '#222'; // ブロックの枠線
                ctx.lineWidth = 1;
                ctx.strokeRect(this.x, this.y, this.width, this.height);

                // HPの数値表示は削除（色で表現するため）
                // ctx.fillStyle = this.health > 5 ? '#FFF' : '#000'; 
                // ctx.font = '12px sans-serif';
                // ctx.textAlign = 'center';
                // ctx.textBaseline = 'middle';
                // ctx.fillText(this.health, this.x + this.width / 2, this.y + this.height / 2);
            }
        }
